{"name":"Alice","entityType":"Person","observations":["Software Engineer","Lives in NYC","Loves coding","Age 28"]}
{"name":"Bob","entityType":"Person","observations":["Doctor","Works at hospital","Age 32"]}
{"name":"Memory Graph MCP Server","entityType":"Project","observations":["D·ª± √°n gi√∫p AI Agent qu·∫£n l√Ω d·ª± √°n ph·∫ßn m·ªÅm t·ªët h∆°n","Ch·ªëng ·∫£o gi√°c (fact anchoring) b·∫±ng knowledge graph","ƒê·∫£m b·∫£o ƒë·ªô ch√≠nh x√°c qua th·ªùi gian","S·ª≠ d·ª•ng Rust l√†m ng√¥n ng·ªØ ch√≠nh","L∆∞u tr·ªØ d·ªØ li·ªáu b·∫±ng JSONL format","Tu√¢n th·ªß giao th·ª©c MCP (Model Context Protocol)","C√≥ 9 memory tools: create_entities, create_relations, add_observations, delete_entities, delete_observations, delete_relations, read_graph, search_nodes, open_nodes","Total tools: 13 (9 memory + 3 query + 1 time)","New tools added: get_related, traverse, summarize"]}
{"name":"tiach","entityType":"Developer","observations":["L√† developer ch√≠nh c·ªßa d·ª± √°n Memory Graph","M·ª•c ti√™u: x√¢y d·ª±ng h·ªá th·ªëng gi√∫p AI kh√¥ng qu√™n th√¥ng tin quan tr·ªçng"]}
{"name":"Feature: Create Entities","entityType":"Feature","observations":["M√¥ t·∫£: T·∫°o m·ªõi entities trong knowledge graph","Status: Completed","Priority: High","File: memory.rs - function create_entities"]}
{"name":"Feature: Create Relations","entityType":"Feature","observations":["M√¥ t·∫£: T·∫°o quan h·ªá gi·ªØa c√°c entities","Status: Completed","Priority: High","File: memory.rs - function create_relations"]}
{"name":"Feature: Search Nodes","entityType":"Feature","observations":["M√¥ t·∫£: T√¨m ki·∫øm entities theo query text","Status: Completed","Priority: High","File: memory.rs - function search_nodes"]}
{"name":"Feature: Persistent Storage","entityType":"Feature","observations":["M√¥ t·∫£: L∆∞u tr·ªØ d·ªØ li·ªáu v√†o file JSONL","Status: Completed","Priority: Critical","File: memory.jsonl"]}
{"name":"Decision: Use JSONL Format","entityType":"Decision","observations":["Quy·∫øt ƒë·ªãnh: S·ª≠ d·ª•ng JSONL thay v√¨ SQLite","L√Ω do: ƒê∆°n gi·∫£n, human-readable, d·ªÖ debug","Trade-offs: Query ch·∫≠m h∆°n v·ªõi dataset l·ªõn (>100K entities)","Ng√†y: 2026-01-10","Quy·∫øt ƒë·ªãnh b·ªüi: tiach"]}
{"name":"Decision: Use Rust","entityType":"Decision","observations":["Quy·∫øt ƒë·ªãnh: S·ª≠ d·ª•ng Rust l√†m ng√¥n ng·ªØ ch√≠nh","L√Ω do: Performance cao, memory safety, single binary deployment","Trade-offs: Learning curve cao h∆°n Python/Node.js","Ng√†y: 2026-01-10","Quy·∫øt ƒë·ªãnh b·ªüi: tiach"]}
{"name":"Milestone: MVP Release","entityType":"Milestone","observations":["M√¥ t·∫£: Release phi√™n b·∫£n MVP v·ªõi 9 tools c∆° b·∫£n","Target date: 2026-01-15","Deliverables: Binary, Documentation, Basic Tests","Status: In Progress"]}
{"name":"Milestone: Production Ready","entityType":"Milestone","observations":["M√¥ t·∫£: Phi√™n b·∫£n ·ªïn ƒë·ªãnh cho production","Target date: 2026-02-01","Deliverables: Full test coverage, Performance benchmarks, User guide","Status: Planned"]}
{"name":"Requirement: Unicode Support","entityType":"Requirement","observations":["M√¥ t·∫£: H·ªó tr·ª£ Unicode trong entity name v√† observations","Type: Functional","Priority: High","Status: Implemented"]}
{"name":"Requirement: MCP Compliance","entityType":"Requirement","observations":["M√¥ t·∫£: Tu√¢n th·ªß Model Context Protocol specification","Type: Functional","Priority: Critical","Status: Implemented"]}
{"name":"Risk: JSONL Scalability","entityType":"Risk","observations":["M√¥ t·∫£: Performance degradation v·ªõi >100K entities","Impact: Medium","Probability: Low (most use cases < 10K entities)","Mitigation: Implement indexing ho·∫∑c optional SQLite backend","Status: Accepted"]}
{"name":"Risk: Memory Usage","entityType":"Risk","observations":["M√¥ t·∫£: RAM usage cao khi load to√†n b·ªô graph v√†o memory","Impact: Medium","Probability: Low","Mitigation: Implement lazy loading ho·∫∑c streaming","Status: Monitoring"]}
{"name":"Feature: GNN Integration","entityType":"Feature","observations":["M√¥ t·∫£: T√≠ch h·ª£p Graph Neural Network ƒë·ªÉ n√¢ng cao kh·∫£ nƒÉng AI Agent","Status: Planned","Priority: Medium","Target Milestone: Post-Production","Capability 1: Semantic Search - t√¨m nodes t∆∞∆°ng t·ª± v·ªÅ √Ω nghƒ©a s·ª≠ d·ª•ng node embeddings","Capability 2: Link Prediction - ƒë·ªÅ xu·∫•t relations m·ªõi d·ª±a tr√™n graph structure","Capability 3: Node Embeddings - encode context t·ª´ neighboring nodes","Capability 4: Multi-hop Reasoning - suy lu·∫≠n qua nhi·ªÅu relations","Tech Options: PyTorch Geometric, DGL, ho·∫∑c custom Rust implementation","Dependencies: Requires embedding infrastructure first"]}
{"name":"Feature: Semantic Search","entityType":"Feature","observations":["M√¥ t·∫£: T√¨m ki·∫øm entities b·∫±ng semantic similarity thay v√¨ text matching","Status: Planned","Priority: High","Target Milestone: Production Ready","Approach: Embed entity text (name + type + observations) th√†nh vectors","Storage: Separate vector file (memory.vec) ho·∫∑c extend JSONL","Tech Options: Ollama API (short-term), ONNX Runtime (long-term)","Prerequisite for: Feature: GNN Integration"]}
{"name":"EntityType: Module","entityType":"EntityType","observations":["M√¥ t·∫£: ƒê·∫°i di·ªán cho m·ªôt module/package trong d·ª± √°n","Required fields: name, path","Observations n√™n c√≥: Purpose, Dependencies, Public API, Key files","Example: Module: Payment - backend/src/payment/","Relations: belongs_to Project, contains File, depends_on Module"]}
{"name":"EntityType: File","entityType":"EntityType","observations":["M√¥ t·∫£: File quan tr·ªçng trong d·ª± √°n","Required fields: name (v·ªõi path), language","Observations n√™n c√≥: Purpose, Key functions, Exports, Line count","Example: File: order_service.rs - backend/src/order/","Relations: belongs_to Module, contains Function, imports File"]}
{"name":"EntityType: Function","entityType":"EntityType","observations":["M√¥ t·∫£: Function/method ph·ª©c t·∫°p c·∫ßn nh·ªõ","Required fields: name, signature","Observations n√™n c√≥: Purpose, Parameters, Return type, Side effects, Complexity notes","Example: Function: create_order(user_id, items) -> Result<Order>","Relations: defined_in File, calls Function, uses Schema"]}
{"name":"EntityType: Schema","entityType":"EntityType","observations":["M√¥ t·∫£: Database table, API schema, data structure","Required fields: name, type (table/api/struct)","Observations n√™n c√≥: Fields, Types, Indexes, Constraints, Relationships","Example: Schema: orders - PostgreSQL table","Relations: used_by Function, relates_to Schema"]}
{"name":"EntityType: BusinessRule","entityType":"EntityType","observations":["M√¥ t·∫£: Business logic v√† quy t·∫Øc nghi·ªáp v·ª•","Required fields: name, domain","Observations n√™n c√≥: Rule description, Conditions, Edge cases, Exceptions","Example: BusinessRule: Free Shipping >= 500k VND","Relations: implemented_by Function, affects Feature"]}
{"name":"EntityType: Convention","entityType":"EntityType","observations":["M√¥ t·∫£: Coding conventions v√† patterns c·ªßa d·ª± √°n","Required fields: name, scope (project/module/language)","Observations n√™n c√≥: Rule, Examples, Exceptions, Reasoning","Example: Convention: Error Handling - d√πng Result<T, AppError>","Relations: applies_to Project/Module, enforced_by Linter"]}
{"name":"EntityType: Dependency","entityType":"EntityType","observations":["M√¥ t·∫£: External dependencies (crates, npm packages, etc)","Required fields: name, version, package manager","Observations n√™n c√≥: Purpose, Key APIs used, Alternatives, Security notes","Example: Dependency: tokio 1.35 - async runtime","Relations: used_by Module, replaces Dependency"]}
{"name":"Feature: Get Related Tool","entityType":"Feature","observations":["M√¥ t·∫£: Tool m·ªõi l·∫•y c√°c entities c√≥ relation v·ªõi entity cho tr∆∞·ªõc","Status: Proposed","Priority: High","Input: entity_name, relation_type (optional), direction (in/out/both)","Output: List of related entities v·ªõi relation info","Use case: T√¨m t·∫•t c·∫£ files trong module, t√¨m dependencies c·ªßa function","Status: Completed","Implemented: 2026-01-11","File: memory.rs - GetRelatedTool struct","Structs added: RelatedEntity, RelatedEntities"]}
{"name":"Feature: Traverse Tool","entityType":"Feature","observations":["M√¥ t·∫£: Tool m·ªõi cho multi-hop graph traversal","Status: Proposed","Priority: Medium","Input: start_node, path_pattern (e.g., 'depends_on->uses->*')","Output: All nodes matching the path pattern","Use case: T√¨m transitive dependencies, impact analysis","Status: Completed","Implemented: 2026-01-11","File: memory.rs - TraverseTool struct","Structs added: PathStep, TraversalPath, TraversalResult"]}
{"name":"Feature: Summarize Tool","entityType":"Feature","observations":["M√¥ t·∫£: Tool m·ªõi t√≥m t·∫Øt subset c·ªßa graph","Status: Proposed","Priority: Low","Input: entity_names ho·∫∑c filter criteria","Output: Condensed summary c·ªßa selected entities","Use case: Quick overview c·ªßa module, project status","Status: Completed","Implemented: 2026-01-11","File: memory.rs - SummarizeTool struct","Structs added: Summary, EntityBrief","Formats: brief, detailed, stats"]}
{"name":"Feature: Timestamp Tracking","entityType":"Feature","observations":["Option D Hybrid implementation - stores Unix timestamp in seconds","created_at and updated_at fields on Entity","created_at field on Relation","Backward compatible with skip_serializing_if = is_zero","All 4 unit tests passing","Release build successful"],"createdAt":1768061136,"updatedAt":1768061141}
{"name":"Bug: Update Paradox","entityType":"Bug","observations":["JSONL l∆∞u static snapshot, kh√¥ng ph·∫£i event sourcing","Khi update: ho·∫∑c c√≥ 2 d√≤ng m√¢u thu·∫´n, ho·∫∑c m·∫•t immutable history","Priority: Medium","Solution: Th√™m Temporal Edges v·ªõi valid_from/valid_to","FIXED: Added validFrom/validTo fields to Relation struct","FIXED: New tool get_relations_at_time - query relations valid at specific timestamp","FIXED: New tool get_relation_history - view all relations including expired ones","Total tools now: 16 (9 memory + 3 query + 2 temporal + 1 time + 1 summarize)","Status: Resolved"],"createdAt":1768062649,"updatedAt":1768063434}
{"name":"Bug: Context Window Killer","entityType":"Bug","observations":["read_graph dump to√†n b·ªô graph","V·ªõi 10000 nodes s·∫Ω tr√†n context window c·ªßa LLM","Priority: High","Solution: Implement Graph RAG, ch·ªâ l·∫•y relevant nodes + 1-hop neighbors","FIXED: Added limit/offset to read_graph for pagination","FIXED: Added limit/includeRelations to search_nodes","AI agents can now control context size when querying large graphs","Status: Resolved"],"createdAt":1768062649,"updatedAt":1768063183}
{"name":"Bug: Semantic Blindness","entityType":"Bug","observations":["search_nodes ch·ªâ d√πng text matching ƒë∆°n thu·∫ßn","Search 'Coder' kh√¥ng t√¨m ƒë∆∞·ª£c 'Software Engineer'","Priority: High","Solution: T√≠ch h·ª£p Vector Search v·ªõi embeddings","FIXED: Implemented synonym dictionary with 15+ groups","Covers: developer roles, bug/issue, feature/task, status, priority, project mgmt, docs, testing, architecture","Search 'coder' now matches 'programmer', 'developer', 'engineer', 'dev'","Zero dependencies - pure Rust, no AI models needed","Status: Resolved"],"createdAt":1768062649,"updatedAt":1768063937}
{"name":"Refactoring: Memory Graph Modularization","entityType":"Decision","observations":["Quy·∫øt ƒë·ªãnh t√°i c·∫•u tr√∫c memory.rs (2505 d√≤ng) th√†nh multi-file architecture","M·ª•c ti√™u: D·ªÖ maintain, test, v√† m·ªü r·ªông t√≠nh nƒÉng m·ªõi","Gi·ªØ nguy√™n hi·ªáu su·∫•t v·ªõi zero-cost abstractions","5 Phases: Types ‚Üí Protocol ‚Üí KnowledgeBase ‚Üí Tools ‚Üí Cleanup","‚úÖ Refactoring ho√†n th√†nh th√†nh c√¥ng - 2026-01-11","T·ª´ 1 file memory.rs (2505 d√≤ng) ‚Üí 35+ files trong src/","All 16 tests passed (7 unit + 8 integration + 1 doc)","Build release th√†nh c√¥ng v·ªõi LTO optimization","C·∫•u tr√∫c m·ªõi: types/, protocol/, knowledge_base/, tools/, search/, validation/, utils/, server/"],"createdBy":"Mai Th√†nh Duy An","updatedBy":"Mai Th√†nh Duy An","createdAt":1768095691,"updatedAt":1768096450}
{"name":"Module: src/types","entityType":"Module","observations":["Ch·ª©a t·∫•t c·∫£ data models: Entity, Relation, KnowledgeGraph","Files: mod.rs, entity.rs, relation.rs, graph.rs, observation.rs, traversal.rs, summary.rs"],"createdBy":"Mai Th√†nh Duy An","updatedBy":"Mai Th√†nh Duy An","createdAt":1768095691,"updatedAt":1768095691}
{"name":"Module: src/protocol","entityType":"Module","observations":["Ch·ª©a JSON-RPC v√† MCP protocol types","Files: mod.rs, jsonrpc.rs, mcp.rs","Includes Tool trait definition"],"createdBy":"Mai Th√†nh Duy An","updatedBy":"Mai Th√†nh Duy An","createdAt":1768095691,"updatedAt":1768095691}
{"name":"Module: src/knowledge_base","entityType":"Module","observations":["Core engine v·ªõi thread-safe operations","Files: mod.rs, crud.rs, query.rs, traversal.rs, temporal.rs, summarize.rs","üîÑ RwLock Migration - 2026-01-11","Chuy·ªÉn t·ª´ std::sync::Mutex sang std::sync::RwLock","L√Ω do: H·ªá th·ªëng read-heavy (60% read vs 40% write)","Thay ƒë·ªïi mod.rs: Mutex<KnowledgeGraph> ‚Üí RwLock<KnowledgeGraph>","Thay ƒë·ªïi mod.rs: .lock() ‚Üí .read() cho load_graph()","Thay ƒë·ªïi crud.rs: 6x .lock() ‚Üí .write() cho CRUD operations","Performance benefit: Cho ph√©p multiple concurrent readers","Test result: 16/16 tests passed including concurrent access tests","Documentation: docs/Proposed-RwLock.md"],"createdBy":"Mai Th√†nh Duy An","updatedBy":"Mai Th√†nh Duy An","createdAt":1768095691,"updatedAt":1768098901}
{"name":"Module: src/tools","entityType":"Module","observations":["15 MCP tools organized by category","Submodules: memory/ (9 tools), query/ (3 tools), temporal/ (3 tools)"],"createdBy":"Mai Th√†nh Duy An","updatedBy":"Mai Th√†nh Duy An","createdAt":1768095691,"updatedAt":1768095691}
{"name":"Decision: Mutex to RwLock Migration","entityType":"Decision","observations":["Date: 2026-01-11","Status: Completed","Risk Level: LOW","Affected files: src/knowledge_base/mod.rs, src/knowledge_base/crud.rs","Rationale: System is read-heavy (search, traverse, get_related = 60% of operations)","Before: Mutex blocks all threads even for read-only operations","After: RwLock allows multiple concurrent readers, only write blocks","Pattern: Write lock held during entire CRUD + persist_to_file()","Validation: All 16 tests passed including test_concurrent_access and test_concurrent_read_write","Rollback: Simple - change RwLock back to Mutex if issues arise"],"createdBy":"Mai Th√†nh Duy An","updatedBy":"Mai Th√†nh Duy An","createdAt":1768098901,"updatedAt":1768098901}
{"from":"tiach","to":"Memory Graph MCP Server","relationType":"develops"}
{"from":"Memory Graph MCP Server","to":"Feature: Create Entities","relationType":"implements"}
{"from":"Memory Graph MCP Server","to":"Feature: Create Relations","relationType":"implements"}
{"from":"Memory Graph MCP Server","to":"Feature: Search Nodes","relationType":"implements"}
{"from":"Memory Graph MCP Server","to":"Feature: Persistent Storage","relationType":"implements"}
{"from":"tiach","to":"Feature: Create Entities","relationType":"owns"}
{"from":"tiach","to":"Feature: Create Relations","relationType":"owns"}
{"from":"tiach","to":"Feature: Search Nodes","relationType":"owns"}
{"from":"tiach","to":"Feature: Persistent Storage","relationType":"owns"}
{"from":"tiach","to":"Decision: Use JSONL Format","relationType":"made"}
{"from":"tiach","to":"Decision: Use Rust","relationType":"made"}
{"from":"Decision: Use JSONL Format","to":"Feature: Persistent Storage","relationType":"affects"}
{"from":"Decision: Use Rust","to":"Memory Graph MCP Server","relationType":"affects"}
{"from":"Milestone: MVP Release","to":"Feature: Create Entities","relationType":"includes"}
{"from":"Milestone: MVP Release","to":"Feature: Create Relations","relationType":"includes"}
{"from":"Milestone: MVP Release","to":"Feature: Search Nodes","relationType":"includes"}
{"from":"Milestone: MVP Release","to":"Feature: Persistent Storage","relationType":"includes"}
{"from":"Requirement: Unicode Support","to":"Feature: Create Entities","relationType":"satisfied_by"}
{"from":"Requirement: MCP Compliance","to":"Memory Graph MCP Server","relationType":"satisfied_by"}
{"from":"Risk: JSONL Scalability","to":"Milestone: Production Ready","relationType":"threatens"}
{"from":"Risk: Memory Usage","to":"Milestone: Production Ready","relationType":"threatens"}
{"from":"Risk: JSONL Scalability","to":"Decision: Use JSONL Format","relationType":"related_to"}
{"from":"Memory Graph MCP Server","to":"Feature: GNN Integration","relationType":"will_implement"}
{"from":"Memory Graph MCP Server","to":"Feature: Semantic Search","relationType":"will_implement"}
{"from":"Feature: GNN Integration","to":"Feature: Semantic Search","relationType":"depends_on"}
{"from":"Feature: GNN Integration","to":"Milestone: Production Ready","relationType":"planned_for"}
{"from":"Feature: Semantic Search","to":"Milestone: Production Ready","relationType":"planned_for"}
{"from":"tiach","to":"Feature: GNN Integration","relationType":"owns"}
{"from":"tiach","to":"Feature: Semantic Search","relationType":"owns"}
{"from":"Memory Graph MCP Server","to":"EntityType: Module","relationType":"supports"}
{"from":"Memory Graph MCP Server","to":"EntityType: File","relationType":"supports"}
{"from":"Memory Graph MCP Server","to":"EntityType: Function","relationType":"supports"}
{"from":"Memory Graph MCP Server","to":"EntityType: Schema","relationType":"supports"}
{"from":"Memory Graph MCP Server","to":"EntityType: BusinessRule","relationType":"supports"}
{"from":"Memory Graph MCP Server","to":"EntityType: Convention","relationType":"supports"}
{"from":"Memory Graph MCP Server","to":"EntityType: Dependency","relationType":"supports"}
{"from":"Memory Graph MCP Server","to":"Feature: Get Related Tool","relationType":"will_implement"}
{"from":"Memory Graph MCP Server","to":"Feature: Traverse Tool","relationType":"will_implement"}
{"from":"Memory Graph MCP Server","to":"Feature: Summarize Tool","relationType":"will_implement"}
{"from":"Feature: Traverse Tool","to":"Feature: Get Related Tool","relationType":"depends_on"}
{"from":"tiach","to":"Feature: Get Related Tool","relationType":"owns"}
{"from":"tiach","to":"Feature: Traverse Tool","relationType":"owns"}
{"from":"tiach","to":"Feature: Summarize Tool","relationType":"owns"}
{"from":"Bug: Update Paradox","to":"Memory Graph MCP Server","relationType":"affects","createdAt":1768062654}
{"from":"Bug: Context Window Killer","to":"Memory Graph MCP Server","relationType":"affects","createdAt":1768062654}
{"from":"Bug: Semantic Blindness","to":"Memory Graph MCP Server","relationType":"affects","createdAt":1768062654}
{"from":"Decision: Mutex to RwLock Migration","to":"Module: src/knowledge_base","relationType":"affects","createdBy":"Mai Th√†nh Duy An","createdAt":1768098907}
{"from":"Memory Graph MCP Server","to":"Decision: Mutex to RwLock Migration","relationType":"implements","createdBy":"Mai Th√†nh Duy An","createdAt":1768098907}
